{% extends 'baseback.html.twig' %}
 {% block title %}Modifier utilisateur{% endblock %}

  {% block body %}


      {% block table %}

          <div class="col-lg-12 grid-margin stretch-card" style="
                     flex-direction: column;
                      margin-top: 90px;">
              <h1 style="text-align: center; margin-bottom: 30px; font-weight: bold; font-size:24px;"><B> Modifier Utilisateur</B>
              </h1>
              <div class="card">
                  <div class="card-body">
                      <div class="col-12 grid-margin" style="
                     flex-direction: column;
                      margin-top: 90px;">
                          <div class="card">
                              <div class="card-body">
                                  <p class="card-description" style="margin-bottom: 20px;">Modifier votre compte</p>
                                  <div>
                                      {{ form_start(form,{'attr': {'id':'add-form'}}) }}
                                      <div class="row">
                                          <div class="col-md-6">
                                              <div class="form-group row">
                                                  {{ form_errors(form.cin) }}
                                                  {{ form_label(form.cin,"Cin utilisateur",{ 'label_attr': {'class': 'col-sm-3 col-form-label'} }) }}
                                                  {{ form_widget(form.cin, { 'attr': {'class': "form-control  col-sm-9"} }) }}
                                              </div>
                                          </div>
                                          <div class="col-md-6">
                                              <div class="form-group row">
                                                  {{ form_errors(form.nom) }}
                                                  {{ form_label(form.nom,"Nom utilisateur",{ 'label_attr': {'class': 'col-sm-3 col-form-label'} }) }}
                                                  {{ form_widget(form.nom, { 'attr': {'class': "form-control col-sm-9"} }) }}
                                              </div>
                                          </div>
                                          <div class="col-md-6">
                                              <div class="form-group row">
                                                  {{ form_errors(form.prenom) }}
                                                  {{ form_label(form.prenom,"Prenom utilisateur",{ 'label_attr': {'class': 'col-sm-3 col-form-label'}}) }}
                                                  {{ form_widget(form.prenom, { 'attr': {'class': "form-control  col-sm-9"} }) }}
                                              </div>
                                          </div>
                                          <div class="col-md-6">
                                              <div class="form-group row">
                                                  {{ form_errors(form.email) }}
                                                  {{ form_label(form.email,"Email",{ 'label_attr': {'class': 'col-sm-3 col-form-label'}}) }}
                                                  {{ form_widget(form.email, { 'attr': {'class': "form-control  col-sm-9"} }) }}
                                              </div>
                                          </div>
                                          <div class="col-md-6">
                                              <div class="form-group row">
                                                  {{ form_errors(form.plainPassword) }}
                                                  {{ form_label(form.plainPassword,"Mot De Passe",{ 'label_attr': {'class': 'col-sm-3 col-form-label'}}) }}
                                                  {{ form_widget(form.plainPassword, { 'attr': {'class': "form-control  col-sm-9"} }) }}
                                              </div>
                                          </div>
                                          <div class="col-md-6">
                                              <div class="form-group row">
                                                  {{ form_errors(form.numTel) }}
                                                  {{ form_label(form.numTel,"Numéro Téléphone" ,{ 'label_attr': {'class': 'col-sm-3 col-form-label'}}) }}
                                                  {{ form_widget(form.numTel, { 'attr': {'class': "form-control   col-sm-9"} }) }}
                                              </div>
                                          </div>
                                          <div class="col-md-6">
                                              <div class="form-group row">
                                                  {{ form_errors(form.adresse) }}
                                                  {{ form_label(form.adresse,"Adresse" ,{ 'label_attr': {'class': 'col-sm-3 col-form-label'}}) }}
                                                  {{ form_widget(form.adresse, { 'attr': {'class': "form-control   col-sm-9"} }) }}

                                              </div>
                                          </div>
                                          <div class="col-md-6">
                                              <div class="form-group row">
                                                  {{ form_errors(form.langue) }}
                                                  {{ form_label(form.langue,"Langue",{ 'label_attr': {'class': 'col-sm-3 col-form-label'}}) }}
                                                  {{ form_widget(form.langue, { 'attr': {'class': "form-control  col-sm-9"} }) }}
                                              </div>
                                          </div>

                                          <div class="col-md-6">
                                              <div class="form-group row">
                                                  {{ form_errors(form.roles) }}
                                                  {{ form_label(form.roles,"Role",{ 'label_attr': {'class': 'col-sm-3 col-form-label'}}) }}
                                                  {{ form_widget(form.roles, { 'attr': {'class': "form-control  col-sm-9"} }) }}
                                              </div>
                                          </div>

                                      </div>
                                      <center>
                                          <div class="col-md-4">
                                              <a onclick="editConfirmation()" class="btn btn-outline-warning">Modifier</a>
                                          </div>
                                      </center>
                                      {{ form_end(form) }}
                                  </div>
                              </div>
                          </div>
                      </div>
                      {% endblock %}
                  </div>
              </div>
          </div>
          <script type="text/javascript">
              function editConfirmation(e) {
                  e = e || window.event;
                  let  target = e.target || e.srcElement;
                  e.preventDefault();
                  Swal.fire({
                      title: 'Vous êtes sûr ?',
                      text: "Merci de vérifier vos données avant de confirmer!",
                      icon: 'warning',
                      showCancelButton: true,
                      cancelText: 'annuler',
                      confirmButtonColor: '#3085d6',
                      cancelButtonColor: '#d33',
                      confirmButtonText: 'Oui!',
                  }).then((result) => {
                      if (result.isConfirmed) {
                          $('#add-form').submit()
                      }
                  })
              }
          </script>
      {% endblock %}

